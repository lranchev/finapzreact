import pprint
import json
from datetime import datetime

d = {'2020-01-16': {'1. open': '95.6100', '2. high': '95.8500', '3. low': '94.8900', '4. close': '95.8200', '5. volume': '1237042'}, '2020-01-15': {'1. open': '94.1400', '2. high': '95.8100', '3. low': '94.0000', '4. close': '95.1200', '5. volume': '1084229'}, '2020-01-14': {'1. open': '94.5800', '2. high': '94.5900', '3. low': '93.2450', '4. close': '93.9300', '5. volume': '1090277'}, '2020-01-13': {'1. open': '94.0000', '2. high': '95.3600', '3. low': '93.8300', '4. close': '94.6800', '5. volume': '1061820'}, '2020-01-10': {'1. open': '93.5900', '2. high': '93.9600', '3. low': '92.7300', '4. close': '93.5300', '5. volume': '1183819'}, '2020-01-09': {'1. open': '92.0000', '2. high': '93.2200', '3. low': '91.8300', '4. close': '93.1900', '5. volume': '1639613'}, '2020-01-08': {'1. open': '90.5400', '2. high': '91.9700', '3. low': '89.9900', '4. close': '91.4000', '5. volume': '1899024'}, '2020-01-07': {'1. open': '88.9600', '2. high': '91.1500', '3. low': '88.4100', '4. close': '90.2000', '5. volume': '2476356'}, '2020-01-06': {'1. open': '86.6500', '2. high': '87.5800', '3. low': '86.6100', '4. close': '87.5500', '5. volume': '1394159'}, '2020-01-03': {'1. open': '86.4400', '2. high': '87.5000', '3. low': '86.4000', '4. close': '87.2400', '5. volume': '865924'}, '2020-01-02': {'1. open': '86.8400', '2. high': '87.8300', '3. low': '86.5300', '4. close': '87.6400', '5. volume': '1079893'}, '2019-12-31': {'1. open': '85.7300', '2. high': '86.4600', '3. low': '85.3529', '4. close': '86.3800', '5. volume': '663639'}, '2019-12-30': {'1. open': '86.4400', '2. high': '86.5900', '3. low': '85.2600', '4. close': '85.8800', '5. volume': '619268'}, '2019-12-27': {'1. open': '86.0700', '2. high': '86.6900', '3. low': '85.8690', '4. close': '86.5000', '5. volume': '665303'}, '2019-12-26': {'1. open': '85.5900', '2. high': '86.5800', '3. low': '85.5900', '4. close': '86.3400', '5. volume': '724366'}, '2019-12-24': {'1. open': '86.1600', '2. high': '86.1600', '3. low': '85.6300', '4. close': '85.7300', '5. volume': '277440'}, '2019-12-23': {'1. open': '86.7400', '2. high': '86.9000', '3. low': '85.7200', '4. close': '85.9100', '5. volume': '968669'}, '2019-12-20': {'1. open': '85.3000', '2. high': '87.0000', '3. low': '83.9100', '4. close': '86.8600', '5. volume': '3635668'}, '2019-12-19': {'1. open': '84.7600', '2. high': '85.0000', '3. low': '83.9500', '4. close': '84.5100', '5. volume': '1922858'}, '2019-12-18': {'1. open': '84.4400', '2. high': '85.3800', '3. low': '84.0500', '4. close': '84.9000', '5. volume': '1333562'}, '2019-12-17': {'1. open': '85.9100', '2. high': '85.9100', '3. low': '84.2600', '4. close': '84.2900', '5. volume': '1943514'}, '2019-12-16': {'1. open': '85.2400', '2. high': '85.7700', '3. low': '85.0100', '4. close': '85.5000', '5. volume': '1287223'}, '2019-12-13': {'1. open': '83.2400', '2. high': '84.6900', '3. low': '83.0200', '4. close': '84.6900', '5. volume': '976407'}, '2019-12-12': {'1. open': '83.8000', '2. high': '84.6800', '3. low': '82.8784', '4. close': '83.3400', '5. volume': '1123132'}, '2019-12-11': {'1. open': '84.3200', '2. high': '84.4500', '3. low': '83.2600', '4. close': '83.8500', '5. volume': '827053'}, '2019-12-10': {'1. open': '83.9700', '2. high': '84.7500', '3. low': '83.4650', '4. close': '84.0900', '5. volume': '1005154'}, '2019-12-09': {'1. open': '84.9500', '2. high': '85.5100', '3. low': '84.0700', '4. close': '84.1100', '5. volume': '902174'}, '2019-12-06': {'1. open': '84.8700', '2. high': '85.5600', '3. low': '84.5833', '4. close': '85.2500', '5. volume': '1579233'}, '2019-12-05': {'1. open': '86.4300', '2. high': '86.5000', '3. low': '84.2900', '4. close': '84.3300', '5. volume': '1962138'}, '2019-12-04': {'1. open': '86.0700', '2. high': '86.6200', '3. low': '85.7000', '4. close': '86.4300', '5. volume': '1164343'}, '2019-12-03': {'1. open': '85.0900', '2. high': '86.0500', '3. low': '84.8400', '4. close': '85.9200', '5. volume': '1214079'}, '2019-12-02': {'1. open': '86.5500', '2. high': '86.6900', '3. low': '84.7600', '4. close': '85.6200', '5. volume': '1415348'}, '2019-11-29': {'1. open': '87.0500', '2. high': '87.5200', '3. low': '86.6100', '4. close': '87.1200', '5. volume': '549914'}, '2019-11-27': {'1. open': '88.8300', '2. high': '88.8300', '3. low': '86.8000', '4. close': '87.2900', '5. volume': '1407497'}, '2019-11-26': {'1. open': '87.7400', '2. high': '88.7300', '3. low': '87.6600', '4. close': '88.6900', '5. volume': '1357507'}, '2019-11-25': {'1. open': '88.2900', '2. high': '88.6200', '3. low': '87.4800', '4. close': '87.7400', '5. volume': '970657'}, '2019-11-22': {'1. open': '87.5800', '2. high': '88.2950', '3. low': '87.0900', '4. close': '87.9700', '5. volume': '1370976'}, '2019-11-21': {'1. open': '87.0000', '2. high': '87.5800', '3. low': '86.2500', '4. close': '87.5700', '5. volume': '1331492'}, '2019-11-20': {'1. open': '87.5000', '2. high': '88.4300', '3. low': '86.3100', '4. close': '86.8600', '5. volume': '1087049'}, '2019-11-19': {'1. open': '88.7500', '2. high': '89.0700', '3. low': '87.9300', '4. close': '88.5100', '5. volume': '1018078'}, '2019-11-18': {'1. open': '87.6700', '2. high': '88.8600', '3. low': '87.5100', '4. close': '88.4100', '5. volume': '1491546'}, '2019-11-15': {'1. open': '85.9700', '2. high': '87.9200', '3. low': '85.4650', '4. close': '87.7100', '5. volume': '1775758'}, '2019-11-14': {'1. open': '85.9000', '2. high': '86.3400', '3. low': '85.2400', '4. close': '85.6500', '5. volume': '1270513'}, '2019-11-13': {'1. open': '84.7000', '2. high': '85.7300', '3. low': '84.6500', '4. close': '85.6000', '5. volume': '1023813'}, '2019-11-12': {'1. open': '85.1900', '2. high': '85.7700', '3. low': '84.4700', '4. close': '84.7200', '5. volume': '1181854'}, '2019-11-11': {'1. open': '84.2700', '2. high': '85.9200', '3. low': '84.0000', '4. close': '85.1900', '5. volume': '918238'}, '2019-11-08': {'1. open': '85.1200', '2. high': '85.7530', '3. low': '83.9100', '4. close': '84.5300', '5. volume': '1663750'}, '2019-11-07': {'1. open': '87.5800', '2. high': '88.1400', '3. low': '85.5800', '4. close': '85.7500', '5. volume': '1387369'}, '2019-11-06': {'1. open': '87.8000', '2. high': '87.9500', '3. low': '86.7050', '4. close': '87.4000', '5. volume': '1927811'}, '2019-11-05': {'1. open': '87.6600', '2. high': '88.3100', '3. low': '87.0100', '4. close': '87.7900', '5. volume': '1660251'}, '2019-11-04': {'1. open': '87.9800', '2. high': '88.2999', '3. low': '87.1800', '4. close': '87.5100', '5. volume': '1568124'}, '2019-11-01': {'1. open': '86.7800', '2. high': '87.8100', '3. low': '86.2500', '4. close': '87.5000', '5. volume': '1475374'}, '2019-10-31': {'1. open': '86.8700', '2. high': '87.3600', '3. low': '86.1200', '4. close': '86.5000', '5. volume': '1911241'}, '2019-10-30': {'1. open': '87.6600', '2. high': '87.8700', '3. low': '86.0000', '4. close': '87.3900', '5. volume': '2120653'}, '2019-10-29': {'1. open': '91.0000', '2. high': '91.0000', '3. low': '85.6250', '4. close': '87.8900', '5. volume': '3978054'}, '2019-10-28': {'1. open': '89.8000', '2. high': '90.0000', '3. low': '89.0400', '4. close': '89.4800', '5. volume': '3395895'}, '2019-10-25': {'1. open': '89.6100', '2. high': '90.2700', '3. low': '89.0900', '4. close': '89.1500', '5. volume': '1535872'}, '2019-10-24': {'1. open': '90.5500', '2. high': '90.9100', '3. low': '88.7800', '4. close': '89.5800', '5. volume': '1573429'}, '2019-10-23': {'1. open': '88.9100', '2. high': '90.3200', '3. low': '88.8100', '4. close': '90.2200', '5. volume': '1352559'}, '2019-10-22': {'1. open': '91.9000', '2. high': '92.6000', '3. low': '89.0400', '4. close': '89.0900', '5. volume': '1605632'}, '2019-10-21': {'1. open': '91.7500', '2. high': '91.9300', '3. low': '90.2800', '4. close': '91.8900', '5. volume': '1410659'}, '2019-10-18': {'1. open': '91.4300', '2. high': '91.7400', '3. low': '90.0600', '4. close': '91.5100', '5. volume': '1342424'}, '2019-10-17': {'1. open': '91.5500', '2. high': '92.3314', '3. low': '90.8000', '4. close': '91.3400', '5. volume': '1161000'}, '2019-10-16': {'1. open': '90.8800', '2. high': '90.9900', '3. low': '89.5100', '4. close': '90.9300', '5. volume': '1029241'}, '2019-10-15': {'1. open': '89.6400', '2. high': '91.6300', '3. low': '89.6400', '4. close': '91.3300', '5. volume': '881030'}, '2019-10-14': {'1. open': '89.2600', '2. high': '90.0000', '3. low': '89.1300', '4. close': '89.8400', '5. volume': '587382'}, '2019-10-11': {'1. open': '90.2000', '2. high': '90.9700', '3. low': '89.4300', '4. close': '89.5500', '5. volume': '1104207'}, '2019-10-10': {'1. open': '89.4100', '2. high': '90.6200', '3. low': '89.2148', '4. close': '89.3600', '5. volume': '799339'}, '2019-10-09': {'1. open': '89.2800', '2. high': '89.7600', '3. low': '88.4400', '4. close': '89.6000', '5. volume': '857347'}, '2019-10-08': {'1. open': '89.6400', '2. high': '89.9000', '3. low': '87.7100', '4. close': '88.1700', '5. volume': '1024866'}, '2019-10-07': {'1. open': '90.5200', '2. high': '91.0400', '3. low': '89.9400', '4. close': '90.2300', '5. volume': '1116815'}, '2019-10-04': {'1. open': '91.5100', '2. high': '91.8022', '3. low': '90.5000', '4. close': '90.9100', '5. volume': '1221578'}, '2019-10-03': {'1. open': '89.6300', '2. high': '91.1000', '3. low': '88.7600', '4. close': '90.9000', '5. volume': '2024403'}, '2019-10-02': {'1. open': '90.5600', '2. high': '91.0050', '3. low': '89.2105', '4. close': '89.8700', '5. volume': '1279864'}, '2019-10-01': {'1. open': '91.5500', '2. high': '92.2100', '3. low': '91.0400', '4. close': '91.1000', '5. volume': '1747004'}, '2019-09-30': {'1. open': '90.2400', '2. high': '91.7300', '3. low': '89.4200', '4. close': '91.3800', '5. volume': '1332355'}, '2019-09-27': {'1. open': '91.0000', '2. high': '91.1600', '3. low': '89.0800', '4. close': '89.7900', '5. volume': '1466700'}, '2019-09-26': {'1. open': '90.0400', '2. high': '90.7500', '3. low': '89.4900', '4. close': '90.5800', '5. volume': '1160175'}, '2019-09-25': {'1. open': '88.3900', '2. high': '90.3150', '3. low': '88.1300', '4. close': '90.0200', '5. volume': '1117349'}, '2019-09-24': {'1. open': '90.3900', '2. high': '90.3900', '3. low': '87.8800', '4. close': '88.6500', '5. volume': '1312255'}, '2019-09-23': {'1. open': '89.4200', '2. high': '90.2000', '3. low': '89.2400', '4. close': '89.6100', '5. volume': '1096110'}, '2019-09-20': {'1. open': '89.7300', '2. high': '89.9700', '3. low': '88.7800', '4. close': '89.4300', '5. volume': '2874261'}, '2019-09-19': {'1. open': '89.1700', '2. high': '90.6750', '3. low': '89.0600', '4. close': '89.2600', '5. volume': '1723903'}, '2019-09-18': {'1. open': '91.5000', '2. high': '91.9760', '3. low': '89.7900', '4. close': '90.9400', '5. volume': '1025128'}, '2019-09-17': {'1. open': '89.9600', '2. high': '92.3400', '3. low': '89.3980', '4. close': '91.1800', '5. volume': '2187483'}, '2019-09-16': {'1. open': '90.0500', '2. high': '90.2000', '3. low': '88.2500', '4. close': '89.4300', '5. volume': '3530299'}, '2019-09-13': {'1. open': '91.6800', '2. high': '91.9900', '3. low': '88.7000', '4. close': '90.4100', '5. volume': '3115560'}, '2019-09-12': {'1. open': '90.5500', '2. high': '92.1000', '3. low': '90.0200', '4. close': '90.9900', '5. volume': '3739194'}, '2019-09-11': {'1. open': '88.3500', '2. high': '89.9800', '3. low': '88.0700', '4. close': '89.6000', '5. volume': '1232897'}, '2019-09-10': {'1. open': '88.6600', '2. high': '88.6600', '3. low': '87.4500', '4. close': '88.2800', '5. volume': '1131224'}, '2019-09-09': {'1. open': '91.6400', '2. high': '91.8400', '3. low': '88.6800', '4. close': '89.5900', '5. volume': '1184815'}, '2019-09-06': {'1. open': '92.8100', '2. high': '93.1200', '3. low': '91.5500', '4. close': '91.8200', '5. volume': '1734714'}, '2019-09-05': {'1. open': '91.7000', '2. high': '92.7400', '3. low': '91.1600', '4. close': '92.5400', '5. volume': '1474995'}, '2019-09-04': {'1. open': '90.1300', '2. high': '91.0000', '3. low': '89.7300', '4. close': '90.8800', '5. volume': '1255471'}, '2019-09-03': {'1. open': '88.8600', '2. high': '89.7200', '3. low': '88.3800', '4. close': '89.1200', '5. volume': '1584594'}, '2019-08-30': {'1. open': '90.0000', '2. high': '90.0000', '3. low': '87.9400', '4. close': '89.1300', '5. volume': '1159643'}, '2019-08-29': {'1. open': '89.1100', '2. high': '90.1900', '3. low': '89.1100', '4. close': '89.3800', '5. volume': '983681'}, '2019-08-28': {'1. open': '88.0600', '2. high': '88.5300', '3. low': '86.5100', '4. close': '88.1900', '5. volume': '984866'}, '2019-08-27': {'1. open': '88.6800', '2. high': '89.2900', '3. low': '87.2501', '4. close': '88.2100', '5. volume': '1126970'}, '2019-08-26': {'1. open': '88.4500', '2. high': '88.4500', '3. low': '87.0600', '4. close': '87.8500', '5. volume': '766175'}}

def extract_values(obj, key):
    """Pull all values of specified key from nested JSON."""
    arr = []

    def extract(obj, arr, key):
        """Recursively search for values of key in JSON tree."""
        if isinstance(obj, dict):
            for k, v in obj.items():
                if isinstance(v, (dict, list)):
                    extract(v, arr, key)
                elif k == key:
                    arr.append(v)
        elif isinstance(obj, list):
            for item in obj:
                extract(item, arr, key)
        return arr

    results = extract(obj, arr, key)
    return results
k = []
v = []
for key, value in d.items():
    k.append(key)
    # print (type(value))
    for key1, value1 in value.items():
        if key1 == "4. close":
            print(value1)
            v.append(float(value1))
#        v.append(key1('4. close'))

v4 = v[:4]
print ("printing", v4)
v4.reverse()
print ("printing reverse", v4)

# file = 'C:/Users/lranchev/PycharmProjects/finapzreact/flask_backend/sample_data.txt'
# jsonn = json.dumps(file)


#with open(jsonn, 'r', encoding='utf-8') as f:

# for line in f:
#     eachline = line.split(',')
#     pprint.pprint(eachline)
#     # #        d[str(key)] = val
#     # jsondata = json.dumps(eachline)
#     # print(type(jsondata))
#     #
#     # a = json.loads(jsondata)
#     # print(type(a))
#     #
#     # print("end")